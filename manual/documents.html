<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>xmlwrapp: Working with XML Documents</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">xmlwrapp
   </div>
   <div id="projectbrief">Lightweight C++ XML parsing library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">index</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Working with XML Documents </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> class encapsulates the notion of an XML document.</p>
<p>When parsing XML documents with the <a class="el" href="classxml_1_1tree__parser.html" title="The xml::tree_parser class is used to parse an XML document and generate a tree like structure of xml...">xml::tree_parser</a>, you will be working with <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> objects so that you can access the resulting node tree.</p>
<p>Using the <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> class is not limited to working with the <a class="el" href="classxml_1_1tree__parser.html" title="The xml::tree_parser class is used to parse an XML document and generate a tree like structure of xml...">xml::tree_parser</a> class. You can also use it when you want to generate an XML document. In this case, you will build the node tree by hand, and then use one of the <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> member functions to convert or save the node tree as XML data.</p>
<h1><a class="anchor" id="documents_settings"></a>
Document Settings</h1>
<p>Although the <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> class is mainly a container for the node tree, it does contain some settings that apply to the entire XML document. The <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> class provides member functions for getting and setting of these values. The following list illustrates which document settings are available:</p>
<ul>
<li>The version from the &lt;?xml?&gt; processing instruction: <a class="el" href="classxml_1_1document.html#a60dff4493062cbed749fbe5be7a4a594" title="Get the XML version for this document. ">xml::document::get_version()</a>, <a class="el" href="classxml_1_1document.html#a840fa57b244881b181e17e8b6fe69be0" title="Set the XML version number for this document. ">xml::document::set_version()</a>.</li>
<li>The document encoding from the &lt;?xml?&gt; processing instruction: <a class="el" href="classxml_1_1document.html#ad4b6d812883a770e4a799e34a2497d2a" title="Get the XML encoding for this document. ">xml::document::get_encoding()</a>, <a class="el" href="classxml_1_1document.html#a98362cce0702894e65aed5fc3244a1b9" title="Set the XML encoding string. ">xml::document::set_encoding()</a>.</li>
<li>Whether or not the document is marked standalone in the &lt;?xml?&gt; processing instruction: <a class="el" href="classxml_1_1document.html#a3a4f2a10ff6de52b6047edd04e908c14" title="Find out if the current document is a standalone document. ">xml::document::get_is_standalone()</a>, <a class="el" href="classxml_1_1document.html#ad825b78011dde8d6d2dc4b747bdd0853" title="Set the standalone flag. ">xml::document::set_is_standalone()</a>.</li>
</ul>
<p>You should consult the xmlwrapp API reference for more information about these member functions.</p>
<h1><a class="anchor" id="documents_subsets"></a>
Internal and External Subsets</h1>
<p>The XML document may contain either an internal or external subset, both or no subsets at all. The <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> provides member functions to test for the existence of subsets. The are the <a class="el" href="classxml_1_1document.html#ac81e139cc8150bf1a8ae7c7a082fb868" title="Test to see if this document has an internal subset. ">xml::document::has_internal_subset()</a> and <a class="el" href="classxml_1_1document.html#a8fb73fa0aacbcbe2e861a170b91221de" title="Test to see if this document has an external subset. ">xml::document::has_external_subset()</a> functions.</p>
<p>An internal subset is present when document type definitions are placed inside the XML document itself. This can be useful if you did not want to use an external DTD or if you wanted to override something from the external DTD.</p>
<p>If the XML document references an external DTD file or URL, it is said to have an external subset. This is the most common type of subset.</p>
<h1><a class="anchor" id="documents_valid"></a>
Validating the Document</h1>
<h2><a class="anchor" id="documents_valid_inside"></a>
Validating with DOCTYPE</h2>
<p>If the XML document contains either an internal or external subset, you can use the <a class="el" href="classxml_1_1document.html#a9a7be82f4085c26d1244f7f90f01f4f6" title="Validate this document against the DTD that has been attached to it. ">xml::document::validate()</a> member function to validate the XML document against the subsets. This function will return <code>true</code> if the document is valid.</p>
<p>When the document is not valid, or it does not contain an internal or external subset, the <a class="el" href="classxml_1_1document.html#a9a7be82f4085c26d1244f7f90f01f4f6" title="Validate this document against the DTD that has been attached to it. ">xml::document::validate()</a> function will return <code>false</code>.</p>
<h2><a class="anchor" id="documents_valid_outside"></a>
Validating with Any DTD</h2>
<p>If the XML document does not contain an internal or external subset, or when you want to validate the document against a specific external subset, you can use an overloaded version of the <a class="el" href="classxml_1_1document.html#a9a7be82f4085c26d1244f7f90f01f4f6" title="Validate this document against the DTD that has been attached to it. ">xml::document::validate()</a> member function. The overloaded version takes the name of a file or a URL to an external subset to validate the document against.</p>
<p>Like the other <a class="el" href="classxml_1_1document.html#a9a7be82f4085c26d1244f7f90f01f4f6" title="Validate this document against the DTD that has been attached to it. ">xml::document::validate()</a> function, this one will return <code>true</code> if the document is valid according to the given external subset. In this case, the external subset will be attached to the document for further use. For example, to provide default attribute values.</p>
<p>If the external entity cannot be parsed, or the document is not valid, the <a class="el" href="classxml_1_1document.html#a9a7be82f4085c26d1244f7f90f01f4f6" title="Validate this document against the DTD that has been attached to it. ">xml::document::validate()</a> will return <code>false</code>.</p>
<h1><a class="anchor" id="documents_xinclude"></a>
Processing XInclusions</h1>
<p>If you would like xmlwrapp to search the node tree and process any XInclusions (<code>&lt;xi:include&gt;</code> elements), you can use the <a class="el" href="classxml_1_1document.html#a90470924ba6080469ce078a7659f3813" title="Walk through the document and expand <xi:include> elements. ">xml::document::process_xinclude()</a> member function. It will return an <code>int</code> telling you how many substitutions were preformed.</p>
<h1><a class="anchor" id="documents_children"></a>
Accessing Document Children</h1>
<p>Although an XML document may only contain one element type node (the root node), it may contain more than one child. For example, there may be XML comments above the root node's opening tag, or below the root node's closing tag. In this case, those comments would be children of the <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> object.</p>
<p>You can access these children using <a class="el" href="classxml_1_1node_1_1iterator.html" title="The xml::node::iterator provides a way to access children nodes similar to a standard C++ container...">xml::node::iterator</a> objects. The <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> class provides <a class="el" href="classxml_1_1document.html#a30cc85b3ee01bcf5b457f54b64e27676" title="Get an iterator to the first child node of this document. ">xml::document::begin()</a> and <a class="el" href="classxml_1_1document.html#a5621f1d7e56bd6585b8dbf060aef67ce" title="Get an iterator that points one past the last child node for this document. ">xml::document::end()</a> member functions for getting iterators to the children. For more information about node iterators, see <a class="el" href="node.html#node_children">Accessing a Node's Children</a>.</p>
<h1><a class="anchor" id="documents_rootnode_get"></a>
Accessing the Root Node</h1>
<p>The most frequently used child node of the XML document is the root node. As mentioned above, the root node is the only child node of the document that is an element.</p>
<p>In order to save you time and effort finding the root node, the <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> class provides the <a class="el" href="classxml_1_1document.html#a61513cff40e18219f876fab9ea61afa0" title="Get a reference to the root node of this document. ">xml::document::get_root_node()</a> member function. This function will return a reference to the root node for the document.</p>
<h1><a class="anchor" id="documents_rootnode_set"></a>
Setting the Root Node</h1>
<p>If you wanted to set the root node of the document to some other element node, you can use the <a class="el" href="classxml_1_1document.html#a33d1ded0c12df7783adb8994df3ffb78" title="Set the root node to the given node. ">xml::document::set_root_node()</a> member function. This will create a copy of the given node and use it and the root node for the document. If the document already had a root node, it will be removed and deleted.</p>
<h1><a class="anchor" id="documents_save"></a>
Converting and Saving the Document as XML</h1>
<p>The <a class="el" href="classxml_1_1document.html" title="The xml::document class is used to hold the XML tree and various bits of information about it...">xml::document</a> provides a few different member functions for converting the node tree into XML. The following list will summarize these functions:</p>
<ul>
<li><a class="el" href="classxml_1_1document.html#a1eec6f9f0016d5cdeb8f742e128105ea" title="Convert the XML document tree into XML text data and place it into the given string. ">xml::document::save_to_string()</a> converts the node tree to XML and places the results in a given std::string object.</li>
<li><a class="el" href="classxml_1_1document.html#aa1c75af1904fc528cacd4e43ddc7db6e" title="Convert the XML document tree into XML text data and place it into the given filename. ">xml::document::save_to_file()</a> converts the node tree to XML and saves the results into the given file.</li>
<li><a class="el" href="classxml_1_1document.html#aab86896fa496224fef9ae4c802ecc1b5" title="Convert the XML document tree into XML text data and then insert it into the given stream...">xml::document::operator&lt;&lt;()</a> convert the node tree to XML and inserts the results into the given std::ostream object. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 2 2015 21:32:54 for xmlwrapp by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
